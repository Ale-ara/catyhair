<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Studio Caty Hair ‚Äî Glamour</title>
<link rel="icon" href="https://i.imgur.com/EN4ndEj.png" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#060405;
  --panel:#0f0f10;
  --gold:#D7B959;
  --gold-2:#E3C97A;
  --muted:#cfc6b6;
  --glass: rgba(255,255,255,0.03);
  --card-shadow: 0 20px 60px rgba(215,185,89,0.08);
}
*{box-sizing:border-box;font-family:'Poppins',sans-serif}
html {scroll-behavior:smooth}
body{
  margin:0;background:linear-gradient(180deg,#040404,#090606);
  color:#fff;min-height:100vh;-webkit-font-smoothing:antialiased;
}

/* HEADER */
header{
  position:fixed;top:0;left:0;right:0;z-index:1200;
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 20px;background:linear-gradient(180deg,rgba(0,0,0,0.6),rgba(0,0,0,0.25));
  border-bottom:1px solid rgba(255,255,255,0.03);backdrop-filter:blur(6px)
}
.brand{display:flex;align-items:center;gap:12px}
.brand img{width:58px;height:58px;object-fit:cover;border-radius:12px;border:2px solid rgba(215,185,89,0.12);background:#000;padding:6px}
.brand h1{font-size:18px;margin:0;color:var(--gold);letter-spacing:0.6px}
nav{display:flex;gap:18px;align-items:center}
nav a{color:var(--muted);text-decoration:none;font-weight:600;padding:8px 12px;border-radius:8px}
nav a:hover{color:var(--gold);background:rgba(215,185,89,0.03)}

/* HERO */
.hero{
  height:86vh;min-height:560px;display:flex;align-items:center;padding:0 6vw;gap:36px;
  margin-top:86px;position:relative;overflow:hidden;
}
.hero-bg{
  position:absolute;inset:0;background-position:center;background-size:cover;filter:contrast(1.02) saturate(1.05);
  transform:scale(1.04);transition:transform .9s ease, filter .6s ease;z-index:0;
}
.hero::after{
  content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.38),rgba(0,0,0,0.8));z-index:1;
}
.hero-left{z-index:2;max-width:680px}
.kicker{color:var(--gold);font-weight:700;margin-bottom:10px}
.title{font-size:48px;line-height:1.02;color:var(--gold);font-weight:800;margin:0 0 12px;text-shadow:0 10px 40px rgba(0,0,0,0.6)}
.subtitle{color:var(--muted);font-size:16px;margin-bottom:18px;max-width:640px}
.cta{display:flex;gap:12px}
.btn{
  padding:12px 18px;border-radius:999px;border:2px solid rgba(215,185,89,0.12);
  font-weight:800;color:var(--gold);background:transparent;cursor:pointer
}
.btn.primary{
  background:linear-gradient(90deg,var(--gold),var(--gold-2));color:#000;border-color:var(--gold)
}
.btn.ghost{background:rgba(255,255,255,0.03);color:var(--muted);border-color:transparent}

/* VIDEO CARD (right) */
.hero-right{width:520px;max-width:48%;z-index:2;display:flex;align-items:center;justify-content:center}
.video-card{
  width:100%;height:420px;border-radius:18px;overflow:hidden;border:8px solid rgba(215,185,89,0.08);
  box-shadow:var(--card-shadow);position:relative;background:#000;
}
.video-card video{width:100%;height:100%;object-fit:cover;display:block}
.sound-btn{
  position:absolute;right:16px;bottom:16px;background:rgba(0,0,0,0.45);border:2px solid var(--gold);
  color:var(--gold);padding:8px 10px;border-radius:10px;cursor:pointer;z-index:4
}

/* SECTIONS */
main{max-width:1200px;margin:0 auto;padding-bottom:80px}
section{padding:64px 6vw}
.section-title{color:var(--gold);font-weight:700;margin-bottom:12px}

/* SERVICES */
.services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
.service{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);min-height:140px}
.service h4{color:var(--gold);margin:0 0 8px}
.service p{color:var(--muted);font-size:14px}

/* GALLERY SLIDER (auto) */
.slideshow{position:relative;height:360px;border-radius:12px;overflow:hidden;border:2px solid rgba(215,185,89,0.06);box-shadow:0 24px 70px rgba(0,0,0,0.6)}
.slide{position:absolute;inset:0;opacity:0;transition:opacity .9s ease}
.slide.active{opacity:1}
.slide img{width:100%;height:100%;object-fit:cover}
.dots{display:flex;gap:10px;justify-content:center;margin-top:12px}
.dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,0.12);cursor:pointer}
.dot.active{background:var(--gold);box-shadow:0 8px 20px rgba(215,185,89,0.12)}

/* TEAM */
.team-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
.team-card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);text-align:center}
.team-photo{width:160px;height:160px;margin:0 auto 12px;border-radius:12px;overflow:hidden;border:6px solid rgba(215,185,89,0.08)}
.team-photo img{width:100%;height:100%;object-fit:cover}

/* CONTACT */
.contact-grid{display:grid;grid-template-columns:1fr 360px;gap:20px}
.contact-card{padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03)}
.input, .textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.05);background:rgba(255,255,255,0.03);color:var(--muted);outline:none}
.send{background:var(--gold);color:#000;padding:10px 14px;border-radius:10px;border:none;font-weight:800;cursor:pointer}

/* FABS */
.fabs{position:fixed;left:14px;bottom:16px;display:flex;flex-direction:column;gap:10px;z-index:1500}
.fab{width:52px;height:52px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 12px 40px rgba(0,0,0,0.6)}
.fab.whatsapp{background:#25D366;border:4px solid rgba(0,0,0,0.06)}
.fab.ig{background:#E1306C;border:4px solid rgba(0,0,0,0.06)}

/* CHAT */
.chat-toggle{position:fixed;right:20px;bottom:22px;background:var(--gold);width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#000;font-weight:700;cursor:pointer;z-index:1600;box-shadow:0 20px 60px rgba(0,0,0,0.6)}
.chat-panel{position:fixed;right:20px;bottom:100px;width:360px;background:linear-gradient(180deg,rgba(10,10,10,0.95),rgba(10,10,10,0.9));border-radius:14px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 40px 100px rgba(0,0,0,0.7);display:flex;flex-direction:column;overflow:hidden;transform:translateY(12px);opacity:0;pointer-events:none;transition:all .28s ease;z-index:1600}
.chat-panel.open{transform:translateY(0);opacity:1;pointer-events:auto}
.chat-header{padding:12px;border-bottom:1px solid rgba(255,255,255,0.03);font-weight:700;color:var(--gold)}
.chat-body{padding:12px;max-height:320px;overflow:auto;display:flex;flex-direction:column;gap:8px}
.msg{padding:10px;border-radius:10px;max-width:78%}
.msg.bot{background:linear-gradient(90deg,var(--glass),rgba(255,255,255,0.02));align-self:flex-start;color:#fff;border:1px solid rgba(255,255,255,0.02)}
.msg.user{background:linear-gradient(90deg, rgba(215,185,89,0.14), rgba(215,185,89,0.08));align-self:flex-end;color:#000}
.chat-footer{padding:10px;border-top:1px solid rgba(255,255,255,0.03);display:flex;gap:8px}

/* reveal */
.reveal{opacity:0;transform:translateY(24px);transition:all .9s cubic-bezier(.2,.9,.2,1)}
.reveal.show{opacity:1;transform:translateY(0)}

/* responsive */
@media(max-width:980px){
  .hero{flex-direction:column;align-items:flex-start;padding:16px 6vw;height:auto}
  .hero-right{width:100%}
  .video-card{height:300px}
  .team-grid{grid-template-columns:1fr}
  .contact-grid{grid-template-columns:1fr}
}
@media(max-width:520px){
  nav{display:none}
  header{padding:10px}
  .title{font-size:26px}
  .video-card{height:220px;border-radius:12px}
  .chat-panel{left:12px;right:12px;bottom:72px;width:auto;max-width:calc(100% - 24px)}
  .fab{width:48px;height:48px}
  .chat-toggle{width:56px;height:56px;right:14px;bottom:12px}
}

/* scrollbar */
::-webkit-scrollbar{width:10px}
::-webkit-scrollbar-track{background:#090909}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--gold),#b8924a);border-radius:10px}

/* SELECT PREMIUM DOURADO */
.select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background: rgba(215,185,89,0.12);
  border: 1px solid rgba(215,185,89,0.35);
  padding: 12px 14px;
  border-radius: 10px;
  color: #f5e9c0 !important;
  font-weight: 600;
  width: 100%;
  cursor: pointer;
  font-size: 15px;
  transition: .25s;
}

.select:hover {
  border-color: #d7b959;
}

.select:focus {
  outline: none;
  border-color: #d7b959;
  box-shadow: 0 0 0 2px rgba(215,185,89,0.25);
}

.select-wrapper {
  position: relative;
  width: 100%;
}

.select-wrapper::after {
  content: "‚ñæ";
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: #d7b959;
  font-size: 14px;
  pointer-events: none;
}

/* MOBILE FIX */
@media (max-width: 520px){
  .select {
    font-size: 16px;
    padding: 14px 16px;
  }

  .select-wrapper::after {
    right: 18px;
    font-size: 16px;
  }
}

/* BACKDROP atr√°s do painel */
.chat-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.65);
  backdrop-filter: blur(3px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .35s ease;
  z-index: 1000; /* <<< abaixado */
}

/* PAINEL do chat sempre acima */
.chat-panel {
  position: fixed;
  right: 20px;
  bottom: 100px;
  width: 360px;
  background: linear-gradient(180deg, rgba(10,10,10,0.95), rgba(10,10,10,0.9));
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 40px 100px rgba(0,0,0,0.7);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transform: translateY(12px);
  opacity: 0;
  pointer-events: none;
  transition: all .28s ease;
  z-index: 2000; /* <<< agora acima do backdrop */
}



</style>
</head>
<body>

    <div id="chatBackdrop" class="chat-backdrop"></div>


<!-- HEADER -->
<header>
  <div class="brand">
    <img src="/mnt/data/D0DF8106-69B6-46D5-BB43-F69B5C302C72.jpeg" alt="Logo Caty Hair">
    <div>
      <h1>Studio Caty Hair</h1>
      <div style="color:var(--muted);font-size:13px">Studio de Beleza ‚Ä¢ Caty & Equipe</div>
    </div>
  </div>

  <nav>
    <a href="#home">In√≠cio</a>
    <a href="#services">Servi√ßos</a>
    <a href="#gallery">Galeria</a>
    <a href="#team">Equipe</a>
    <a href="#contact">Contato</a>
    <a class="btn primary" id="ctaBook" href="#contact" style="text-decoration:none">Agendar</a>
  </nav>
</header>

<!-- HERO -->
<section id="home" class="hero">
  <div class="hero-bg" style="background-image:url('/mnt/data/53322abd-18dd-4b39-abdc-75147de051ac.png')"></div>

  <div class="hero-left reveal">
    <div class="kicker">Studio Caty Hair</div>
    <div class="title">Transforme o seu visual.<br><span style="color:#fff">Brilho, corte e cor com estilo</span></div>
    <div class="subtitle">Atendimento personalizado, t√©cnicas modernas e um toque de glamour ‚Äî para clientes que buscam resultados profissionais e duradouros.</div>

    <div class="cta">
      <button class="btn primary" id="btnWhats">üì≤ Pedir Or√ßamento</button>
      <a class="btn ghost" href="#gallery">Ver Galeria</a>
    </div>
  </div>

  <div class="hero-right reveal">
    <div class="video-card">
      <video id="heroVideo" playsinline muted loop preload="auto">
        <source src="/mnt/data/Gratid√£o a Ti, Senhor, por ser minha for√ßa nos momentos dif√≠ceis e por me motivar todos os dias .mp4" type="video/mp4">
        Seu navegador n√£o suporta v√≠deo.
      </video>
      <button class="sound-btn" id="soundBtn">üîä</button>
    </div>
  </div>
</section>

<main>

  <!-- SERVICES -->
  <section id="services" class="reveal">
    <div class="section-title">Servi√ßos</div>
    <div class="services-grid">
      <div class="service glow">
        <h4>Corte & Styling</h4>
        <p>Cortes modernos, consultoria de styling e finaliza√ß√£o profissional.</p>
      </div>

      <div class="service">
        <h4>Colora√ß√£o e Luzes</h4>
        <p>Colora√ß√£o, balayage, mechas e corre√ß√µes com t√©cnica e seguran√ßa.</p>
      </div>

      <div class="service">
        <h4>Reconstru√ß√£o & Tratamentos</h4>
        <p>Hidrata√ß√µes, cronogramas e tratamentos de alta performance.</p>
      </div>

      <div class="service">
        <h4>Escova e Penteados</h4>
        <p>Escovas, finaliza√ß√µes e penteados para eventos.</p>
      </div>

      <div class="service">
        <h4>Alisamentos</h4>
        <p>Progressivas e tratamentos para redu√ß√£o de volume.</p>
      </div>

      <div class="service">
        <h4>Consultoria de Imagem</h4>
        <p>Indica√ß√£o de cortes e cores que valorizam seu rosto e estilo.</p>
      </div>
    </div>
  </section>

  <!-- GALLERY (AUTO SLIDESHOW) -->
  <section id="gallery" class="reveal">
    <div class="section-title">Galeria</div>

    <div class="slideshow" id="slideshow">
      <div class="slide active"><img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=1600&auto=format&fit=crop" alt=""></div>
      <div class="slide"><img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=1600&auto=format&fit=crop" alt=""></div>
      <div class="slide"><img src="https://images.unsplash.com/photo-1517838277536-f5f99be501cd?q=80&w=1600&auto=format&fit=crop" alt=""></div>
    </div>
    <div class="dots" id="dots"></div>
  </section>

  <!-- TEAM -->
  <section id="team" class="reveal">
    <div class="section-title">Nossa Equipe</div>
    <div class="team-grid">
      <div class="team-card">
        <div class="team-photo"><img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=800" alt="Caty"></div>
        <div style="font-weight:700;color:var(--gold)">Caty Silva</div>
        <div style="color:var(--muted);margin-bottom:8px">Propriet√°ria ‚Ä¢ Hair Artist</div>
        <div style="color:var(--muted)">Especialista em colora√ß√£o, luzes e cortes personalizados com foco na sa√∫de do fio.</div>
      </div>

      <div class="team-card">
        <div class="team-photo"><img src="https://images.unsplash.com/photo-1547425260-76bcadfb4f2c?q=80&w=800" alt="Assistente"></div>
        <div style="font-weight:700;color:var(--gold)">Mariana Silva</div>
        <div style="color:var(--muted);margin-bottom:8px">Assistente ‚Ä¢ Styling</div>
        <div style="color:var(--muted)">Auxilia nos atendimentos, finaliza√ß√µes e na experi√™ncia do cliente.</div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="reveal">
    <div class="section-title">Contato</div>
    <div class="contact-grid">
      <div class="contact-card">
        <p style="color:var(--muted)">Quer agendar ou solicitar or√ßamento? Mande uma mensagem no WhatsApp ou preencha abaixo.</p>
        <p style="margin:8px 0"><strong>WhatsApp:</strong> <a href="https://wa.me/5521980722830" style="color:var(--gold)">+55 21 98072-2830</a></p>
        <form id="contactForm" style="margin-top:8px">
          <input id="fname" class="input" placeholder="Seu nome" />
          <input id="fphone" class="input" placeholder="Telefone" style="margin-top:10px"/>
          <textarea id="fmsg" class="textarea" rows="4" placeholder="Mensagem" style="margin-top:10px"></textarea>
          <div style="display:flex;gap:10px;margin-top:12px">
            <button type="button" id="sendContact" class="send">Enviar WhatsApp</button>
            <button type="reset" class="btn ghost" style="border:1px solid rgba(255,255,255,0.04)">Limpar</button>
          </div>
        </form>
      </div>

      <div style="min-width:260px">
        <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=800" style="width:100%;border-radius:12px;border:1px solid rgba(255,255,255,0.03)" alt="studio">
      </div>
    </div>
  </section>

</main>

<!-- FLOATING ACTIONS -->
<div class="fabs" aria-hidden="false">
  <a class="fab whatsapp" href="https://wa.me/5521980722830" target="_blank" title="WhatsApp">
    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/whatsapp/whatsapp-original.svg" style="width:26px">
  </a>
  <a class="fab ig" href="https://instagram.com/_catyhair" target="_blank" title="Instagram">
    <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" style="width:26px">
  </a>
</div>

<!-- CHAT -->
<div class="chat-toggle" id="chatToggle" title="Atendimento">üí¨</div>

<div class="chat-panel" id="chatPanel" aria-hidden="true">
  <div class="chat-header">Atendimento ‚Ä¢ Caty Hair</div>
  <div class="chat-body" id="chatBody">
    <div class="msg bot">Ol√°! Eu sou a Caty (assistente). Quer or√ßamento? Escolha servi√ßo e depois abra o WhatsApp.</div>
  </div>

 <div class="chat-footer">
  <div style="width:100%">

    <!-- SELECT SERVI√áO PREMIUM -->
    <div class="select-wrapper" style="margin-bottom:8px;">
      <select id="chatService" class="select">
        <option value="">Servi√ßo</option>
        <option>Corte</option>
        <option>Escova</option>
        <option>Colora√ß√£o</option>
        <option>Luzes</option>
        <option>Tratamento</option>
      </select>
    </div>

    <div style="display:flex;gap:8px">
      <input id="chatName" class="input" placeholder="Seu nome (opcional)"/>
      <button id="chatSend" class="btn primary" style="padding:10px 12px">Abrir WhatsApp</button>
    </div>

  </div>
</div>


<footer style="padding:24px 6vw;color:var(--muted);text-align:center">
  ¬© <span id="yr"></span>Studio Caty Hair.
</footer>

<script>
/* ========== Year ========== */
document.getElementById('yr').textContent = new Date().getFullYear();

/* ========== Page reveal ========== */
document.querySelectorAll('.reveal').forEach(el=>{
  const io = new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting){ 
        e.target.classList.add('show'); 
        io.unobserve(e.target);
      }
    });
  }, {threshold:0.18});
  io.observe(el);
});

/* ========== Hero subtle scale on hover ========== */
const hero = document.querySelector('.hero');
const heroBg = document.querySelector('.hero-bg');

if(hero && heroBg){
  hero.addEventListener('mousemove', (e)=>{
    const r = hero.getBoundingClientRect();
    const x = (e.clientX - r.left)/r.width - 0.5;
    const y = (e.clientY - r.top)/r.height - 0.5;
    heroBg.style.transform = `translate(${x*6}px, ${y*6}px) scale(1.06)`;
  });

  hero.addEventListener('mouseleave', ()=> 
    heroBg.style.transform = 'scale(1.04)'
  );
}

/* ========== Video autoplay on visibility ========== */
const heroVideo = document.getElementById('heroVideo');
const soundBtn = document.getElementById('soundBtn');

if(heroVideo){
  heroVideo.muted = true;
  heroVideo.playsInline = true;

  const vidObs = new IntersectionObserver(entries=>{
    entries.forEach(e=>{
      if(e.isIntersecting) heroVideo.play().catch(()=>{});
      else heroVideo.pause();
    });
  }, {threshold:0.35});

  vidObs.observe(heroVideo);
}

if(soundBtn){
  soundBtn.addEventListener('click', ()=>{
    heroVideo.muted = false;
    heroVideo.volume = 1;
    soundBtn.style.display = 'none';
    heroVideo.play().catch(()=>{});
  });
}

/* ========== Slideshow ========== */
(function(){
  const slides = Array.from(document.querySelectorAll('.slideshow .slide'));
  const dotsWrap = document.getElementById('dots');
  let idx = 0, timer = null, INTERVAL = 3600;

  slides.forEach((s,i)=>{
    const d = document.createElement('div');
    d.className = 'dot'+(i===0?' active':'');
    d.addEventListener('click', ()=> go(i));
    dotsWrap.appendChild(d);
  });

  function show(i){
    slides.forEach((s,ii)=> s.classList.toggle('active', ii===i));
    Array.from(dotsWrap.children).forEach((d,ii)=> d.classList.toggle('active', ii===i));
  }

  function next(){ idx = (idx+1)%slides.length; show(idx); }
  function go(i){ idx=i; show(idx); reset(); }
  function reset(){ if(timer) clearInterval(timer); timer = setInterval(next, INTERVAL); }

  show(idx);
  reset();

  const slideshow = document.getElementById('slideshow');
  if(slideshow){
    const obs = new IntersectionObserver(entries=>{
      entries.forEach(e=>{
        if(e.isIntersecting) reset();
        else clearInterval(timer);
      });
    }, {threshold:0.2});
    obs.observe(slideshow);
  }
})();

/* ========== Floating action buttons (mobile adjust) ========== */
(function(){
  const fabs = document.querySelector('.fabs');
  function adjust(){
    if(window.innerWidth < 520){
      fabs.style.left = '10px';
      fabs.style.bottom = '80px';
    } else {
      fabs.style.left = '14px';
      fabs.style.bottom = '16px';
    }
  }
  adjust();
  window.addEventListener('resize', adjust);
})();

/* ============================================================
   ===================== CHAT SYSTEM ===========================
   ============================================================ */

const chatToggle = document.getElementById('chatToggle');
const chatPanel  = document.getElementById('chatPanel');
const chatBody   = document.getElementById('chatBody');
const chatSend   = document.getElementById('chatSend');
const chatService = document.getElementById('chatService');
const chatName   = document.getElementById('chatName');
const chatBackdrop = document.getElementById('chatBackdrop');

function pushBot(text){
  const d = document.createElement('div');
  d.className='msg bot';
  d.innerText=text;
  chatBody.appendChild(d);
  chatBody.scrollTop = chatBody.scrollHeight;
}

function pushUser(text){
  const d = document.createElement('div');
  d.className='msg user';
  d.innerText=text;
  chatBody.appendChild(d);
  chatBody.scrollTop = chatBody.scrollHeight;
}

/* ========== OPEN CHAT WITH DARK BACKDROP ========== */
function openChat(initialMessage){
  chatPanel.classList.add('open');
  chatBackdrop.classList.add('show');

  if(initialMessage) pushBot(initialMessage);
}

function closeChat(){
  chatPanel.classList.remove('open');
  chatBackdrop.classList.remove('show');
}

chatToggle.addEventListener('click', ()=>{
  if(chatPanel.classList.contains('open')){
    chatPanel.classList.remove('open');
    chatBackdrop.classList.remove('show');
  } else {
    chatPanel.classList.add('open');
    chatBackdrop.classList.add('show');
    pushBot('Ol√°! üòä Escolha servi√ßo e depois abra o WhatsApp.');
  }
});


chatBackdrop.addEventListener('click', closeChat);

/* ========== CTA opens chat ========== */
document.getElementById('btnWhats').addEventListener('click', (e)=>{
  e.preventDefault();
  openChat("Vamos come√ßar seu or√ßamento! Selecione o servi√ßo e preencha seu nome.");
  setTimeout(()=> chatService.focus(), 260);
});

/* ========== Contact CTA scroll ========== */
document.getElementById('ctaBook').addEventListener('click', ()=> {
  document.getElementById('contact').scrollIntoView({behavior:'smooth'});
});

/* ========== SEND TO WHATSAPP ========== */
chatSend.addEventListener('click', ()=>{

  const service = chatService.value.trim();
  const name = chatName.value.trim();

  if(!service){
    pushBot('Por favor selecione o servi√ßo antes de abrir o WhatsApp.');
    chatService.style.boxShadow='0 0 0 3px rgba(255,0,0,0.12)';
    setTimeout(()=> chatService.style.boxShadow='',700);
    return;
  }

  pushUser(`${service}${name ? (' ‚Ä¢ ' + name) : ''}`);
  pushBot('Perfeito ‚Äî abrindo o WhatsApp com a mensagem pronta.');

  let msg = `Ol√°! Gostaria de um or√ßamento para *${service}*.\n`;
  if(name) msg += `Nome: ${name}\n`;
  msg += `\nVim pelo site: Studio Caty Hair.`;

  window.open(
    `https://wa.me/5521980722830?text=${encodeURIComponent(msg)}`,
    '_blank'
  );
});

/* ========== CONTACT FORM WHATSAPP ========== */
document.getElementById('sendContact').addEventListener('click', ()=>{
  const n = document.getElementById('fname').value.trim();
  const p = document.getElementById('fphone').value.trim();
  const m = document.getElementById('fmsg').value.trim();

  let text = `Ol√°! Gostaria de um or√ßamento.\n`;
  if(n) text += `Nome: ${n}\n`;
  if(p) text += `Telefone: ${p}\n`;
  if(m) text += `Mensagem: ${m}\n`;
  text += `\nVim pelo site.`;

  window.open(
    `https://wa.me/5521980722830?text=${encodeURIComponent(text)}`,
    '_blank'
  );
});

/* ========== Initial Helper Message ========== */
setTimeout(()=> 
  pushBot("Ol√°! Precisa de um or√ßamento? Clique no bot√£o üí¨ ou use o 'Pedir Or√ßamento'!"),
900);

/* ========== Accessibility: ESC closes chat ========== */
document.addEventListener('keydown',(e)=>{
  if(e.key==='Escape') closeChat();
});
</script>

</body>
</html>
